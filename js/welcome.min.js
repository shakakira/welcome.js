var w=function(e){var t,n,r,i,s,o,u,a,f=[],l=false,c,h=1,p,d,v={rugTop:0,rugLeft:0,rugWidth:1,rugHeight:1},m=v,g=false;p=this;this.init=function(){if(!document.querySelectorAll){console.log("Method querySelectorAll is not supported");return false}y();E()};var y=function(){c=document.querySelectorAll("[data-step]");for(var e in c){var t=c[e];if(typeof t!="object")continue;var n={el:t,width:Tools.width(t)+Tools.getCSS(t,"margin-left")+Tools.getCSS(t,"margin-right"),height:Tools.height(t)+Tools.getCSS(t,"margin-top")+Tools.getCSS(t,"margin-bottom"),top:Tools.top(t)-Tools.getCSS(t,"margin-top"),left:Tools.left(t)-Tools.getCSS(t,"margin-left")};f.push(n)}f.sort(function(e,t){if(typeof e.el!="object"||typeof t.el!="object")return;if((e.el.getAttribute("data-step")|0)>(t.el.getAttribute("data-step")|0))return 1;else if((e.el.getAttribute("data-step")|0)<(t.el.getAttribute("data-step")|0))return-1;else return 0})};var b=function(){m={rugTop:Tools.getCSS(u,"top"),rugLeft:Tools.getCSS(u,"left"),rugWidth:Tools.getCSS(u,"width"),rugHeight:Tools.getCSS(u,"height")};Tools.setCSS(u,"width",v.rugWidth);Tools.setCSS(u,"height",v.rugHeight);Tools.setCSS(u,"left",v.rugLeft);Tools.setCSS(u,"top",v.rugTop)};var w=function(){Tools.setCSS(u,"width",m.rugWidth);Tools.setCSS(u,"height",m.rugHeight);Tools.setCSS(u,"left",m.rugLeft);Tools.setCSS(u,"top",m.rugTop)};this.show=function(){if(g)return;Tools.setCSS(t,"display","block");d=Tools.getCSS(document.body,"padding-bottom");Tools.setCSS(document.body,"padding-bottom",Tools.height(r));w();g=true};this.hide=function(){if(!g)return;Tools.setCSS(t,"display","none");Tools.setCSS(document.body,"padding-bottom",d);Tools.removeClass(l.el,"welcomeshowelements");b();g=false};this.nextStep=function(){h++;this.moveTo(h)};this.moveTo=function(e){this.show();h=e>f.length?1:e<0?1:e;if(e>f.length){this.hide();return}if(typeof l=="object")Tools.removeClass(l.el,"welcomeshowelements");l=f[h-1];if(l.top+l.height>window.scrollY+window.innerHeight||l.top<window.scrollY)window.scrollTo(0,l.top-window.innerHeight/2);Tools.setCSS(u,"width",l.width+40);Tools.setCSS(u,"height",l.height+40);Tools.setCSS(u,"left",l.left-20);Tools.setCSS(u,"top",l.top-20);i.textContent=h;s.textContent=l.el.getAttribute("data-text");Tools.addClass(l.el,"welcomeshowelements")};var E=function(){var e={id:"welcome"};t=Tools.elementCreate("div",e);document.body.appendChild(t);var f={"class":"wcover"};n=Tools.elementCreate("div",f);t.appendChild(n);var l={"class":"wrug"};u=Tools.elementCreate("div",l);t.appendChild(u);var c={"class":"wnext"};a=Tools.elementCreate("span",c);u.appendChild(a);a.textContent="next";var h={"class":"wclose"};o=Tools.elementCreate("span",h);u.appendChild(o);o.textContent="close";Tools.addEvent(o,"click",function(){p.hide()});var d={"class":"wtooltip"};r=Tools.elementCreate("div",d);t.appendChild(r);var v={"class":"wtext"};s=Tools.elementCreate("div",v);r.appendChild(s);var m={"class":"wnumber"};i=Tools.elementCreate("span",m);r.appendChild(i);Tools.addEvent(a,"click",function(){p.nextStep()});Tools.addEvent(i,"click",function(){p.nextStep()})};this.init()};var Tools={setCSS:function(e,t,n){if(typeof e!="object")return;t=t.replace(/\-(\w)/,function(e,t){return t.toUpperCase()});n=!isNaN(parseFloat(n))?parseFloat(n)+"px":n;var r=t[0].toUpperCase()+t.slice(1,t.length);if(typeof e.style[t]!="undefined")e.style[t]=n;else if(typeof e.style["webkit"+r]!="undefined")e.style["webkit"+r]=n;else if(typeof e.style["Moz"+r]!="undefined")e.style["Moz"+r]=n;else if(typeof e.style["O"+r]!="undefined")e.style["O"+r]=n;else if(typeof e.style["ms"+r]!="undefined")e.style["ms"+r]=n;else return false},getCSS:function(e,t){var n;if(typeof e!="object")return;t=t.replace(/\-(\w)/,function(e,t){return t.toUpperCase()});var r=t[0].toUpperCase()+t.slice(1,t.length);var i=e.currentStyle||window.getComputedStyle(e);if(i[t]!="undefined")n=i[t];else if(i["webkit"+r]!="undefined")n=i["webkit"+r];else if(i["Moz"+r]!="undefined")n=i["Moz"+r];else if(i["O"+r]!="undefined")n=i["O"+r];else if(i["ms"+r]!="undefined")n=i["ms"+r];else n=false;return parseFloat(n)},width:function(e){if(typeof e!="object")return;if(typeof e.getClientRects=="function")return e.getClientRects()[0].width;else return this.getCSS(e,"width")},height:function(e){if(typeof e!="object")return;if(typeof e.getClientRects=="function")return e.getClientRects()[0].height;else return this.getCSS(e,"height")},top:function(e){if(typeof e!="object")return;if(typeof e.getClientRects=="function")return e.getClientRects()[0].top;else return this.getCSS(e,"top")},left:function(e){if(typeof e!="object")return;if(typeof e.getClientRects=="function")return e.getClientRects()[0].left;else return this.getCSS(e,"left")},right:function(e){if(typeof e!="object")return;if(typeof e.getClientRects=="function")return e.getClientRects()[0].right;else return this.getCSS(e,"right")},bottom:function(e){if(typeof e!="object")return;if(e.getBoundingClientRect=="function")return e.getBoundingClientRect().bottom;else return this.getCSS(e,"bottom")},addEvent:function(e,t,n){if(e.attachEvent)e.attachEvent("on"+t,n);else e.addEventListener(t,n)},ready:function(e){if(document.readyState!="complete"){setTimeout(function(){Tools.ready(e)},1);return}e.call()},addClass:function(e,t){var n=e.className==""?[]:e.className.split(" ");var r=n.indexOf(t);if(r==-1){n.push(t);e.className=n.join(" ")}},removeClass:function(e,t){var n=e.className.split(" ");var r=n.indexOf(t);if(r!=-1){delete n[r];e.className=n.join(" ")}},getMousePoint:function(e,t){t=t||window.event;if(t.clientX&&e.getBoundingClientRect)return{x:t.clientX-e.getBoundingClientRect().left,y:t.clientY-e.getBoundingClientRect().top};else return false},elementCreate:function(e,t,n){var r=document.createElement(e),i;for(var s in t){i=t[s];r.setAttribute(s,i)}return r}}