var w=function(e){var t,n,r,i,s,o,u,a=[],f=false,l,c=1,h,p,d={rugTop:0,rugLeft:0,rugWidth:1,rugHeight:1},v=d,m=false;h=this;this.init=function(){if(!document.querySelectorAll){console.log("Method querySelectorAll is not supported");return false}g();w()};var g=function(){l=document.querySelectorAll("[data-step]");for(var e in l){var t=l[e];if(typeof t!="object")continue;var n={el:t,width:Tools.width(t)+Tools.getCSS(t,"margin-left")+Tools.getCSS(t,"margin-right"),height:Tools.height(t)+Tools.getCSS(t,"margin-top")+Tools.getCSS(t,"margin-bottom"),top:Tools.top(t)-Tools.getCSS(t,"margin-top"),left:Tools.left(t)-Tools.getCSS(t,"margin-left")};a.push(n)}a.sort(function(e,t){if(typeof e.el!="object"||typeof t.el!="object")return;if((e.el.getAttribute("data-step")|0)>(t.el.getAttribute("data-step")|0))return 1;else if((e.el.getAttribute("data-step")|0)<(t.el.getAttribute("data-step")|0))return-1;else return 0})};var y=function(){v={rugTop:Tools.getCSS(o,"top"),rugLeft:Tools.getCSS(o,"left"),rugWidth:Tools.getCSS(o,"width"),rugHeight:Tools.getCSS(o,"height")};Tools.setCSS(o,"width",d.rugWidth);Tools.setCSS(o,"height",d.rugHeight);Tools.setCSS(o,"left",d.rugLeft);Tools.setCSS(o,"top",d.rugTop)};var b=function(){Tools.setCSS(o,"width",v.rugWidth);Tools.setCSS(o,"height",v.rugHeight);Tools.setCSS(o,"left",v.rugLeft);Tools.setCSS(o,"top",v.rugTop)};this.show=function(){if(m)return;Tools.setCSS(t,"display","block");p=Tools.getCSS(document.body,"padding-bottom");Tools.setCSS(document.body,"padding-bottom","100px");b();m=true};this.hide=function(){if(!m)return;Tools.setCSS(t,"display","none");Tools.setCSS(document.body,"padding-bottom",p);y();m=false};this.nextStep=function(){c++;this.moveTo(c)};this.moveTo=function(e){this.show();c=e>a.length?1:e<0?1:e;if(typeof f=="object")Tools.removeClass(f.el,"welcomeshowelements");f=a[c-1];if(f.top+f.height>window.scrollY+window.innerHeight||f.top<window.scrollY)window.scrollTo(0,f.top-window.innerHeight/2);Tools.setCSS(o,"width",f.width);Tools.setCSS(o,"height",f.height);Tools.setCSS(o,"left",f.left);Tools.setCSS(o,"top",f.top);u.textContent=c;i.textContent=c;s.textContent=f.el.getAttribute("data-text");Tools.addClass(f.el,"welcomeshowelements")};var w=function(){var e={id:"welcome"};t=Tools.elementCreate("div",e);document.body.appendChild(t);var a={"class":"cover"};n=Tools.elementCreate("div",a);t.appendChild(n);var f={"class":"rug"};o=Tools.elementCreate("div",f);t.appendChild(o);var l={"class":"number"};u=Tools.elementCreate("span",l);o.appendChild(u);var c={"class":"tooltip"};r=Tools.elementCreate("div",c);t.appendChild(r);var p={"class":"text"};s=Tools.elementCreate("div",p);r.appendChild(s);var d={"class":"number"};i=Tools.elementCreate("span",d);r.appendChild(i);Tools.addEvent(u,"click",function(){h.nextStep()});Tools.addEvent(i,"click",function(){h.nextStep()})};this.init()};var Tools={setCSS:function(e,t,n){if(typeof e!="object")return;t=t.replace(/\-(\w)/,function(e,t){return t.toUpperCase()});n=!isNaN(parseFloat(n))?parseFloat(n)+"px":n;var r=t[0].toUpperCase()+t.slice(1,t.length);if(typeof e.style[t]!="undefined")e.style[t]=n;else if(typeof e.style["webkit"+r]!="undefined")e.style["webkit"+r]=n;else if(typeof e.style["Moz"+r]!="undefined")e.style["Moz"+r]=n;else if(typeof e.style["O"+r]!="undefined")e.style["O"+r]=n;else if(typeof e.style["ms"+r]!="undefined")e.style["ms"+r]=n;else return false},getCSS:function(e,t){var n;if(typeof e!="object")return;t=t.replace(/\-(\w)/,function(e,t){return t.toUpperCase()});var r=t[0].toUpperCase()+t.slice(1,t.length);var i=e.currentStyle||window.getComputedStyle(e);if(i[t]!="undefined")n=i[t];else if(i["webkit"+r]!="undefined")n=i["webkit"+r];else if(i["Moz"+r]!="undefined")n=i["Moz"+r];else if(i["O"+r]!="undefined")n=i["O"+r];else if(i["ms"+r]!="undefined")n=i["ms"+r];else n=false;return parseFloat(n)},width:function(e){if(typeof e!="object")return;if(typeof e.getClientRects=="function")return e.getClientRects()[0].width;else return this.getCSS(e,"width")},height:function(e){if(typeof e!="object")return;if(typeof e.getClientRects=="function")return e.getClientRects()[0].height;else return this.getCSS(e,"height")},top:function(e){if(typeof e!="object")return;if(typeof e.getClientRects=="function")return e.getClientRects()[0].top;else return this.getCSS(e,"top")},left:function(e){if(typeof e!="object")return;if(typeof e.getClientRects=="function")return e.getClientRects()[0].left;else return this.getCSS(e,"left")},right:function(e){if(typeof e!="object")return;if(typeof e.getClientRects=="function")return e.getClientRects()[0].right;else return this.getCSS(e,"right")},bottom:function(e){if(typeof e!="object")return;if(e.getBoundingClientRect=="function")return e.getBoundingClientRect().bottom;else return this.getCSS(e,"bottom")},addEvent:function(e,t,n){if(e.attachEvent)e.attachEvent("on"+t,n);else e.addEventListener(t,n)},ready:function(e){if(document.readyState!="complete"){setTimeout(function(){Tools.ready(e)},1);return}e.call()},addClass:function(e,t){var n=e.className==""?[]:e.className.split(" ");var r=n.indexOf(t);if(r==-1){n.push(t);e.className=n.join(" ")}},removeClass:function(e,t){var n=e.className.split(" ");var r=n.indexOf(t);if(r!=-1){delete n[r];e.className=n.join(" ")}},getMousePoint:function(e,t){t=t||window.event;if(t.clientX&&e.getBoundingClientRect)return{x:t.clientX-e.getBoundingClientRect().left,y:t.clientY-e.getBoundingClientRect().top};else return false},elementCreate:function(e,t,n){var r=document.createElement(e),i;for(var s in t){i=t[s];r.setAttribute(s,i)}return r}}